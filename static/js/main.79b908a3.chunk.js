(this["webpackJsonpmusic-matser-new"]=this["webpackJsonpmusic-matser-new"]||[]).push([[0],{12:function(t,e,r){},14:function(t,e,r){"use strict";r.r(e);var a=r(1),n=r(7),s=r.n(n),c=(r(12),r(2)),i=r(3),o=r(5),l=r(4),u=r(0),h=function(t){var e=t.artist;if(!e)return null;var r=e.images,a=e.name,n=e.followers,s=e.genres;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:a}),Object(u.jsxs)("p",{children:[n.total," followers"]}),Object(u.jsx)("p",{children:s.join(", ")}),Object(u.jsx)("img",{style:{width:200,height:200,borderRadius:100,objectFit:"cover"},src:r[0]&&r[0].url,alt:"artist-img"})]})},j=function(t){Object(o.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={playing:!1,audio:null,playingPreviewUrl:null},t.playAudio=function(e){return function(){var r=new Audio(e);t.state.playing?(t.state.audio.pause(),t.state.playingPreviewUrl===e?t.setState({playing:!1}):(r.play(),t.setState({audio:r,playingPreviewUrl:e}))):(r.play(),t.setState({playing:!0,audio:r,playingPreviewUrl:e}))}},t.trackIcon=function(e){return e.preview_url?t.state.playing&&t.state.playingPreviewUrl===e.preview_url?Object(u.jsx)("span",{children:"| |"}):Object(u.jsx)("span",{children:"\u25b6"}):Object(u.jsx)("span",{children:"N/A"})},t}return Object(i.a)(r,[{key:"render",value:function(){var t=this,e=this.props.tracks;return Object(u.jsx)("div",{children:e.map((function(e){var r=e.id,a=e.name,n=e.album,s=e.preview_url;return Object(u.jsxs)("div",{onClick:t.playAudio(s),className:"track",children:[Object(u.jsx)("img",{src:n.images[0].url,alt:"track-img",className:"track-img"}),Object(u.jsx)("p",{className:"track-name",children:a}),Object(u.jsx)("p",{className:"track-icon",children:t.trackIcon(e)})]},r)}))})}}]),r}(a.Component),p=function(t){Object(o.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={artistQuery:""},t.updateArtistQuery=function(e){t.setState({artistQuery:e.target.value})},t.handelKeyPress=function(e){"Enter"===e.key&&t.searchArtist()},t.searchArtist=function(){t.props.searchArtist(t.state.artistQuery)},t}return Object(i.a)(r,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{onChange:this.updateArtistQuery,onKeyPress:this.handelKeyPress,placeholder:"Search for an artist"}),Object(u.jsx)("button",{onClick:this.searchArtist,children:"Search"})]})}}]),r}(a.Component),d="https://spotify-api-wrapper.appspot.com",b=function(t){Object(o.a)(r,t);var e=Object(l.a)(r);function r(){var t;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).state={artist:"",tracks:[]},t.searchArtist=function(e){fetch("".concat(d,"/artist/").concat(e)).then((function(t){return t.json()})).then((function(e){if(e.artists.total>0){var r=e.artists.items[0];t.setState({artist:r}),fetch("".concat(d,"/artist/").concat(r.id,"/top-tracks")).then((function(t){return t.json()})).then((function(e){return t.setState({tracks:e.tracks})})).catch((function(t){return alert(t.message)}))}})).catch((function(t){return alert(t.message)}))},t}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.searchArtist("arijit")}},{key:"render",value:function(){return console.log("this.state",this.state),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Music Master"}),Object(u.jsx)(p,{searchArtist:this.searchArtist}),Object(u.jsx)(h,{artist:this.state.artist}),Object(u.jsx)(j,{tracks:this.state.tracks})]})}}]),r}(a.Component);s.a.render(Object(u.jsx)(b,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.79b908a3.chunk.js.map